<link href="//vjs.zencdn.net/7.0/video-js.min.css" rel="stylesheet" />
<script src="//vjs.zencdn.net/7.0/video.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/videojs-contrib-hls/5.14.1/videojs-contrib-hls.js"></script>

<div class="app-row">
  <div class="col-md-12">
    <h3 class="heading">{{ activity.name }}</h3>
    <!-- <hr /> -->
    <div id="map"></div>
  </div>

  <ng-container *ngIf="positionInfo">
    <div class="col-md-12">

      <div *ngIf="panToToggle; then thenBlock else elseBlock"></div>
      <ng-template #thenBlock>
        <button type="button" class="btn btn-success" (click)="togglePanTo()">Отключить отслеживание</button>
      </ng-template>
      <ng-template #elseBlock>
        <button type="button" class="btn btn-secondary" (click)="togglePanTo()">Включить отслеживание</button>
      </ng-template>
    </div>
    <div class="col-md-12">
      <table class="table table-dark">
        <thead>
          <tr>
            <th *ngIf="totalWeight" scope="row">общий вес</th>
            <th *ngIf="vehicleWeight" scope="row">вес машины</th>
            <th *ngIf="cargoWeight" scope="row">вес груза</th>
            <th *ngIf="positionInfo.currentSpeed" scope="row">
              текущая скорость
            </th>
            <th scope="row">текущие координаты</th>
            <th *ngIf="positionInfo.passedDistance" scope="row">
              пройденная дистанция (км)
            </th>
            <th *ngIf="metersPassed" scope="row">
              пройденная дистанция (метров)
            </th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td *ngIf="totalWeight as value">{{ value }} кг</td>
            <td *ngIf="vehicleWeight as value">{{ value }} кг</td>
            <td *ngIf="cargoWeight as value">{{ value }} кг</td>
            <td *ngIf="positionInfo.currentSpeed as value">{{ value }} км/ч</td>
            <td *ngIf="currentLatLng as value">
              {{ value.lat }}<br />{{ value.lng }}
            </td>
            <td *ngIf="positionInfo.passedDistance as value">{{ value }}</td>
            <td *ngIf="metersPassed as value">{{ value }}</td>
          </tr>
          <tr>
            <td colspan="3">
              <ul>
                <li *ngFor="let axis of positionInfo.snapshot.data">
                  нагрузка на ось {{ axis.axisId }}: {{ axis.weight }} кг
                </li>
              </ul>
            </td>
            <td colspan="4">
              <sxm-video> </sxm-video>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </ng-container>
</div>
